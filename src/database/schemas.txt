CREATE TABLE users (                    
    id INTEGER PRIMARY KEY AUTOINCREMENT,  
    login TEXT NOT NULL UNIQUE,
    passwordhash TEXT NOT NULL UNIQUE,
    email TEXT NOT NULL UNIQUE,
    isActive INTEGER NOT NULL
    );
CREATE TABLE verifications (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    verification TEXT NOT NULL,
    userId INTEGER NOT NULL,
    FOREIGN KEY(userId) REFERENCES users(id)
);

CREATE TABLE lpaths (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    title TEXT NOT NULL,
    tags TEXT,
    body TEXT,
    rating REAL DEFAULT 0.0,
    isActive INTEGER DEFAULT 0,
    userId INTEGER,
    FOREIGN KEY(userId) REFERENCES users(id)
)

CREATE TABLE books ()

CREATE TABLE videos ()

CREATE TABLE courses ()

CREATE TABLE lpaths ()

go postgresql

///Test queries

/Make user active
UPDATE users 
SET isActive = 1 
FROM (SELECT userId from verifications WHERE verification = 'pbkdf2:sha256:260000$XMphTVl1$bf58fd34d91f852f2d86f86ae20fa5c9194dfb99a00f1e9c384dc6070c6b9013') as verifications
WHERE users.id = verifications.userId;   

/Mock lpath
INSERT INTO lpaths (title, tags, body, userId)
VALUES( 'titlepath1','baba, gaga, lulu','IAM THE BODYYYYY', 1);